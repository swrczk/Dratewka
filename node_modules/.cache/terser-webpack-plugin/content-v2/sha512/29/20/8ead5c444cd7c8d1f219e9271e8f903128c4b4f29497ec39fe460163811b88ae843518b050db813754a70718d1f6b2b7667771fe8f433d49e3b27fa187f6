{"code":"!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=0)}([function(e,t,n){n(2),e.exports=n(1)},function(e,t){},function(e,t,n){\"use strict\";n.r(t);let o={gameDescription:\"\",text:\"\",displayAction:function(){$(\"#commandResponse\").html(o.gameDescription),$(\"#gameConsole\").hide(),setTimeout((function(){o.defaultConsole()}),ACTION_TIME)},loadData:function(){setTimeout((function(){let e=places[Math.floor(player.instance/10)][player.instance%10];o.setCompassDefault(),o.setCurrentLocImg(e);let t=\"\";e.isNorth()&&(t+=\" north\",$(\"#compassN\").hide()),e.isEast()&&(t.trim()&&(t+=\",\"),t+=\" east\",$(\"#compassE\").hide()),e.isSouth()&&(t.trim()&&(t+=\",\"),t+=\" south\",$(\"#compassS\").hide()),e.isWest()&&(t.trim()&&(t+=\",\"),t+=\" west\",$(\"#compassW\").hide()),t=\"You can go:\"+t;let n,i=\"\";if(0===e.locItem.length)i=\"You see nothing\";else{for(let t=0;t<e.locItem.length;t++)i.trim()&&(i+=\",\"),i+=\" \"+items[e.locItem[t]].fullName;i=\"You see \"+i}n=0===player.equipment?\"You are carrying nothing\":\"You are carrying \"+items[player.equipment].fullName,$(\"#gameText\").html(t+\". <br><br>\"+i+\". <br><br>\"+n+\". \")}),ACTION_TIME)},setCompassDefault:function(){$(\"#compassN\").show(),$(\"#compassS\").show(),$(\"#compassE\").show(),$(\"#compassW\").show()},setCurrentLocImg:function(e){$(\"#locTitle\").html(e.locTitle),$(\"#locImage\").html(\"\");let t=document.createElement(\"IMG\"),n=player.instance+\".gif\";player.dragon&&43===player.instance&&(n=\"DS\"+n),t.setAttribute(\"src\",\"img/\"+n),$(\"#locImage\").append(t),$(\"#locImage\").css(\"backgroundColor\",e.locColor)},putPrevText:function(){setTimeout((function(){document.body.onkeydown=function(){$(\"#commandResponse\").show(),$(\"#gameConsole\").show();let e=o.text.split(\".\"),t=e[0];for(let n=1;n<e.length;n++)t+=\".<br><br>\"+e[n];$(\"#gameText\").html(t),document.body.onkeydown=function(){},$(\"#gameConsole\").focus()}}),SAVE_TIME)},isUp:function(e){return 38===e},isDown:function(e){return 40===e},isLeft:function(e){return 37===e},isRight:function(e){return 39===e},pressedEnter:function(e){return 13===e},pressedSpace:function(e){return 32===e},whichDirection:function(e,t){return 1===e.length?e:\"NORTH\"===e||o.isUp(t)?\"N\":\"SOUTH\"===e||o.isDown(t)?\"S\":\"WEST\"===e||o.isLeft(t)?\"W\":\"EAST\"===e||o.isRight(t)?\"E\":void 0},nameOfDirection:function(e){if(e.length>1)return e;switch(e){case\"N\":return\"NORTH\";case\"S\":return\"SOUTH\";case\"W\":return\"WEST\";case\"E\":return\"EAST\"}},whichAction:function(e){if(1===e.length)return e;switch(e){case\"TAKE\":return\"T\";case\"DROP\":return\"D\";case\"USE\":return\"U\"}},emptyEquipment:function(){return 0===player.equipment?(o.gameDescription=\"You are not carrying anything\",!0):(o.gameDescription=\"You are carrying something\",!1)},getItemID:function(e){let t=0;do{if(t++,t===items.length)return-1}while(e!==items[t].name.toUpperCase());return t},defaultConsole:function(){$(\"#commandResponse\").html(\"What's now?\"),$(\"#gameConsole\").show(),$(\"#gameConsole\").focus()}},i=function(e,t){o.gameDescription=t.message[e],$(\"#commandResponse\").html(o.gameDescription),$(\"#gameConsole\").hide(),setTimeout((function(){e+1<t.message.length?digging(e+1,t):o.defaultConsole()}),ACTION_TIME)},r=function(e,t){player.dragon++,player.equipment=0,o.gameDescription=e.message[0],$(\"#commandResponse\").html(o.gameDescription),$(\"#gameConsole\").hide(),setTimeout((function(){o.gameDescription=e.message[1],t.locItem[0]=e.result}),ACTION_TIME),player.skin++},a=function(e){0===player.skin&&(o.gameDescription=\"Nothing happened\",o.displayAction()),player.equipment=e.result},s=function(e,t){player.necessaryItems++,e.locItem.push(t.result),player.equipment=0,o.displayAction(),6===player.necessaryItems&&43===t.location&&(player.equipment=28,o.gameDescription=POISON_SHEEP,e.locItem=[],$(\"#commandResponse\").html(o.gameDescription),$(\"#gameConsole\").hide(),setTimeout((function(){o.defaultConsole()}),ACTION_TIME))},c={makeAction:function(e){let t=places[Math.floor(player.instance/10)][player.instance%10],n=0,i=0,r=$(\"#gameConsole\").val().toUpperCase().trim();if(r.includes(\" \")?(n=r.split(\" \"),r=o.whichAction(n[0]),i=o.getItemID(n[1])):r=o.whichDirection(r,e),console.log(\"makeAction\",r),\"N|S|E|W\".includes(r))t.changePlace(r);else switch(r){case\"V\":o.text=$(\"#gameText\").text(),$(\"#gameText\").html(INSTRUCTION),$(\"#gameConsole\").hide(),$(\"#commandResponse\").hide(),o.putPrevText();break;case\"G\":o.text=$(\"#gameText\").text(),$(\"#gameText\").html(LORE_INFO),$(\"#gameConsole\").hide(),$(\"#commandResponse\").hide(),o.putPrevText();break;case\"T\":o.emptyEquipment()&&c.takeItem(t,i);break;case\"D\":o.emptyEquipment()||c.dropItem(t,i);break;case\"U\":if(0===player.equipment)o.gameDescription=\"You are not carrying anything\";else if(player.equipment!==i)o.gameDescription=\"You aren't carrying anything like that\";else{let e;for(let t=0;t<reactions.length;t++)player.equipment===reactions[t].needed&&(e=reactions[t]);e&&e.location===player.instance?c.useItem(t,e):(o.gameDescription=\"Nothing happened\",o.displayAction())}break;default:o.gameDescription=\"Try another word or V for vocabulary\"}o.gameDescription&&o.displayAction(),$(\"#gameConsole\").val(\"\")},takeItem:function(e,t){-1!==e.locItem.indexOf(t)?items[t].canLift()?(player.equipment=t,e.locItem.splice(e.locItem.indexOf(t),1),o.gameDescription=\"You are taking \"+items[t].fullName,o.loadData()):o.gameDescription=\"You can't carry it\":o.gameDescription=\"There isn't anything like that here\"},dropItem:function(e,t){if(-1===t||player.equipment!==t)o.gameDescription=\"You are not carrying it\";else{let t=0;for(let n=0;n<e.locItem.length;n++)0!==e.locItem[n]&&t++;t>=SPECIAL_ITEM_LIMIT?o.gameDescription=\"You can't store any more here\":(e.locItem.push(player.equipment),o.gameDescription=\"You are about to drop \"+items[player.equipment].fullName,player.equipment=0,o.loadData())}},useItem:function(e,t){switch(t.specialMark){case\"K\":u.end();break;case\"S\":a(t);break;case\"N\":i(0,t),player.equipment=t.result;break;case\"L\":s(e,t);break;case\"D\":r(t,e);break;default:player.equipment=t.result}o.gameDescription=t.message,o.loadData()}},u={gameIntro:function(){let e=$(\"<div></div>\").attr(\"id\",\"intro\"),t=$(\"<img></img>\").attr({id:\"introImage\",src:\"img/czolowka.jpg\"});e.append(t),$(\"body\").append(e),$(document).keydown((function(e){let t=e.keyCode;(o.pressedSpace(t)||o.pressedEnter(t))&&($(\"#intro\").remove(),u.instruction())})),setTimeout((function(){t.attr(\"src\",\"img/opis_A.jpg\"),setTimeout((function(){t.attr(\"src\",\"img/opis_B.jpg\"),setTimeout((function(){$(\"#intro\").remove(),u.instruction()}),INTRO_TIME)}),INTRO_TIME)}),INTRO_TIME)},instruction:function(){let e=document.createElement(\"DIV\");e.id=\"intro\",e.style.backgroundColor=\"black\",e.innerHTML=START_INSTRUCTION,$(document.body).append(e),$(document).keydown((function(){$(\"#intro\").remove(),$(document).unbind(),u.instruction=function(){}}))},start:function(){$(\"#gameConsole\").blur(),$(\"#gameConsole\").keyup((function(){$(\"#gameConsole\").val((function(e,t){return t.toUpperCase()})),u.consoleTurnOn()}))},consoleTurnOn:function(){document.getElementById(\"gameConsole\").onkeydown=function(e){let t=e.which;(o.pressedEnter(t)||o.isUp(t)||o.isDown(t)||o.isLeft(t)||o.isRight(t))&&c.makeAction(t)}},end:function(){let e=document.createElement(\"DIV\");e.id=\"end\",document.body.appendChild(e);let t=document.createElement(\"AUDIO\");t.canPlayType(\"audio/mpeg\")?t.setAttribute(\"src\",\"audio/We_are_Number_One_Music.mp3\"):t.setAttribute(\"src\",\"audio/We_are_Number_One_Music.ogg\"),t.autoplay=!0,t.loop=!0,document.body.appendChild(t);let n=document.createElement(\"DIV\");n.id=\"endContainer\",document.body.appendChild(n);let o=document.createElement(\"IMG\");o.id=\"endBackgroundImg\",n.appendChild(o),o.setAttribute(\"src\",\"img/git_gif.gif\");let i=document.createElement(\"IMG\");i.id=\"endExplosionImg\",e.appendChild(i),i.setAttribute(\"src\",\"img/giphy.gif\"),setTimeout((function(){i.setAttribute(\"src\",\"img/gif.gif\")}),500)}};$((function(){u.gameIntro(),u.start(),o.loadData()}))}]);","extractedComments":[]}